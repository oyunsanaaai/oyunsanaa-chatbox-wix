:root{
  --text:#e8eef6;
  --muted:#a9b4c3;
  --chip:#ffffff12;
  --glass:#ffffff10;
  --stroke:#ffffff24;
  --bg1:#0f1624;
  --bg2:#182944;
  --brand:#4e7dd8;
}

/* илүү ялгарах 5 theme */
:root[data-t="0"]{--brand:#4e7dd8;--bg1:#0f1624;--bg2:#182944}
:root[data-t="1"]{--brand:#1bbf89;--bg1:#0a1714;--bg2:#0e2822}
:root[data-t="2"]{--brand:#d4b26b;--bg1:#21160a;--bg2:#3a2a12}
:root[data-t="3"]{--brand:#7a7f88;--bg1:#101316;--bg2:#1b2129}
:root[data-t="4"]{--brand:#2b9fa2;--bg1:#0a1b1c;--bg2:#103033}

/* reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:linear-gradient(180deg,var(--bg1),var(--bg2));
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

.oy-header{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; gap:12px; padding:12px 14px;
  background:linear-gradient(180deg,#00000060,#00000010);
  border-bottom:1px solid var(--stroke);
  backdrop-filter:saturate(140%) blur(8px);
}
.oy-title{font-weight:700}
.oy-status .dot{display:inline-block;width:8px;height:8px;border-radius:999px;background:#29e070;box-shadow:0 0 8px #29e070aa}
.oy-themes{margin-left:auto; display:flex; gap:8px}
.oy-themes button{all:unset; width:26px;height:26px;border-radius:8px; background:var(--glass); border:1px solid var(--stroke); cursor:pointer; overflow:hidden}
.oy-themes i{display:block;width:100%;height:100%}

/* main layout */
.oy-main{min-height:100vh; display:flex; flex-direction:column}
.oy-stream{flex:1; padding:18px 16px 90px; overflow:auto; display:flex; flex-direction:column; gap:14px}
.oy-bubble{max-width:min(720px,84%); padding:12px 14px; border-radius:16px; background:var(--glass); border:1px solid var(--stroke)}
.oy-bubble.oy-user{align-self:flex-end; background:linear-gradient(180deg,#ffffff20,#ffffff08)}
.oy-bubble.oy-bot{align-self:flex-start}
.oy-meta{opacity:.7; font-size:12px; text-align:center}

/* composer */
.oy-composer{
  position:sticky; bottom:0; left:0; right:0; z-index:15;
  display:flex; align-items:flex-end; gap:10px;
  padding:10px; border-top:1px solid var(--stroke);
  background:linear-gradient(180deg,#0000,#0003);
}
.oy-file{
  all:unset; width:44px;height:44px; display:grid; place-items:center;
  border-radius:12px; background:var(--glass); border:1px solid var(--stroke); cursor:pointer;
}
.oy-file svg{width:22px;height:22px}
.oy-input-wrap{flex:1; position:relative}
#oyInput{
  width:100%; min-height:44px; max-height:150px; resize:none;
  padding:12px 42px 12px 14px; border-radius:12px; color:var(--text);
  background:var(--glass); border:1px solid var(--stroke); outline:none;
}
.oy-send{
  all:unset; width:48px;height:44px; display:grid; place-items:center;
  border-radius:12px; background:var(--brand); color:#fff; cursor:pointer;
}
.oy-send svg{width:22px;height:22px}

.oy-typing{
  position:sticky; bottom:58px; /* composer-оос 14px дээгүүр */
  margin-left:auto; margin-right:76px; /* send товчноос зөрүүлэх */
  width:46px; height:12px; display:flex; align-items:center; justify-content:center; gap:5px;
}
.oy-typing[hidden]{display:none}
.oy-typing span{width:6px;height:6px;border-radius:999px;background:#fff8; animation:oyblink 1s infinite}
.oy-typing span:nth-child(2){animation-delay:.15s}
.oy-typing span:nth-child(3){animation-delay:.3s}
@keyframes oyblink{0%,100%{opacity:.35}50%{opacity:1}}

/* image previews */
.oy-previews{display:flex; gap:8px; flex-wrap:wrap; padding:8px 10px; border-top:1px dashed var(--stroke); background:#00000010}
.oy-previews[hidden]{display:none}
.oy-chip{position:relative; width:64px;height:64px; border-radius:10px; overflow:hidden; background:#0003; border:1px solid var(--stroke)}
.oy-chip img{width:100%;height:100%;object-fit:cover}
.oy-chip button{position:absolute; top:4px; right:4px; all:unset; width:18px;height:18px; border-radius:10px; background:#0008; color:#fff; font-size:12px; text-align:center; line-height:18px; cursor:pointer}

/* mobile tweaks */
@media (max-width:760px){
  .oy-stream{padding:14px 12px 92px}
  #oyInput{min-height:42px}
}
